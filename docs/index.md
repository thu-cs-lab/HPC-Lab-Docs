# 总述

!!! danger "版权声明"

    本项目为 2021 年春季学期起清华大学计算机系开设的《高性能计算导论》课程的实验框架。
    **所有内容（包括文档、代码等）未经作者授权，禁止用作任何其他用途，包括且不限于在其他课程或者其他学校中使用。**
    
    如需使用授权，可通过 zhaijidong at tsinghua dot edu dot cn 联系作者。作者保留一切追究侵权责任的权利。

<!-- !!! tip "推荐查看在线版"

    推荐查看本文档的在线版（<https://lab.cs.tsinghua.edu.cn/hpc/doc/>)，而非 PDF 或 Word 版本。
    离线版本的显示效果可能不佳，并且无法获得实时的更新。 -->


## 实验概况

为了使同学们掌握高性能计算领域中常用的的并行编程、性能优化等方法，培养动手实践能力，本课程设计了一系列的实验。实验共包括必做和附加两部分。

!!! fail "禁止抄袭"

    本课程的所有实验都 **必须** 独立完成。同学间可以互相交流，但 **不允许** 将作业代码（无论是否完成）提供给 **任何同学（无论是否选课）** 。  
    如果使用了任何非自己编写的代码（如来自网络）， **必须** 在代码对应位置和报告中详细说明来源。  
    助教将对提交的代码进行严格的查重。一旦确认为抄袭，你将会失去 **当次作业的全部分数** 。  
    一旦使用 SSH 登录课程所用的集群，将视为你已经充分理解并且完全接受了上述内容；如果不同意，可以选择退课。

### 小作业

小作业共占课程成绩的 $25\%$，内容为课程基本知识点练习，主要以报告的形式提交。

* [小作业零](assignments/0.pow_a.md)：熟悉环境配置、集群使用、作业提交
* [小作业一](assignments/1.mpi_async.md)：MPI 非阻塞编程
* [小作业二](assignments/2.mpi_allreduce.md)：MPI Allreduce
<!-- * [小作业三](assignments/3.omp_schedule.md)：OpenMP 调度策略
* [小作业四](assignments/4.cuda0.md)：CUDA 并行策略
* [小作业五](assignments/5.simd.md)：向量化
* [小作业六](assignments/6.cuda1.md)：CUDA 优化
* [小作业七](assignments/7.optimization0.md)：单机性能优化
* [小作业八](assignments/8.profiling_tools.md)：性能分析工具 -->

### 大作业

大作业共占课程成绩的 $70\%$，将随课程进展逐步放出。

* [实验一](exp/1.odd_even_sort.md)（奇偶排序，$20\%$）：基于消息传递的并行编程（MPI）
<!-- * [实验二](exp/2.apsp.md)（全源最短路，$20\%$）：CUDA 编程
* [实验三](exp/3.spmm.md)（稀疏矩阵-矩阵乘，$30\%$）：CPU 多线程 与 CUDA 编程 -->
<!--
* [实验零](exp/0.pow_a.md)（pow_a，$5\%$）：熟悉环境配置、集群使用、作业提交

* [实验二](exp/2.stencil.md)（模板计算，$20\%$）：基于共享内存模型和消息传递的并行编程（OpenMP, MPI）
-->

<!-- ### 附加实验

附加实验至多可获得 $10\%$ 的加分，内容为 GPU 上的稀疏矩阵-矩阵乘（SpMM），详见 [实验说明](exp/4.spmm.md)。

!!! warning "注意难度"

    附加实验的评分标准很严格，只有实现正确并且在不公开的数据集上性能超过一个 **较高的** baseline 方可得到非零的分数。
    如果不是学有余力，请不要在这里浪费时间。 -->

### 实验收取

所有大作业均有指定的存放目录（类似 `~/PA0`）。所有同学必须将作业放置在规定的目录中。助教在截止时间后将立刻对所有人的 home 目录进行 snapshot，并收取对应的文件进行评分。如果因为目录格式不合格或其他任何原因导致未能被正常收取评分，请在成绩公布后向对应助教发送邮件说明情况，比如正确的文件路径或者正确运行方式。

!!! note "眼见为实"

    **评分的基本原则** ：作业的正常评分基于且仅基于在进行当次 snapshot 时存在于学生的 home 目录中的文件（snapshot 的检索方式可以查阅[集群使用文档](cluster.md) 的“文件编辑”一节），其他任何情况一概不予作为正常提交接受，按照补交处理。


在作业截止后，助教不会再统一从集群上收取作业，也不再接受从网络学堂提交。补交的同学需要给作业文档中的负责助教发送邮件，包含实验代码和实验报告。补交时间以助教收到邮件的时间戳（UTC+8）为准。

### 迟交处理

迟交作业的处理如下：

* 任何被认定为迟交的作业，最终评分 **至多** 为总分的 $80 \%$；
* 每多迟交一周，上述分数折合比例递减 $5 \%$，至多降低到 $60 \%$。

也就是说，提交时间在 DDL 后 6 天 23:59:59 以内的作业，总分折合为原始分的 $80 \%$，7 天~13 天 23:59:59 以内的作业，折合为 $75 \%$，以此类推。

## 项目成员

* 课程教师：翟季冬 zhaijidong@tsinghua.edu.cn
* 本学期课程助教：
    * 翟明书：zhaims22@mails.tsinghua.edu.cn (总协调)
    * 黄可钊：hkz20@mails.tsinghua.edu.cn（实验集群）
* 课程建设：
    * 师天麾、王豪杰、金煜阳、唐适之、黄可钊、何家傲（课程实验）
    * 张晨、孙祯波、郑立言、马子轩（课程内容）
